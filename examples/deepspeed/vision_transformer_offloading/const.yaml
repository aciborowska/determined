name: logging metrics
workspace: DeepSpeed
project: Vision Transformer
debug: false
#hyperparameters:
#  deepspeed_config: ds_config_cpu.json
environment:
    environment_variables:
        - NCCL_DEBUG=INFO
        # You may need to modify this to match your network configuration.
        - NCCL_SOCKET_IFNAME=ens,eth,ib
resources:
  slots_per_trial: 2
searcher:
  name: single
  max_length: 1
  metric: val_loss
entrypoint: >-
  python -m determined.launch.torch_distributed
  python image_classification.py 
  --dataset_name beans  
  --output_dir ./beans_outputs/  
  --remove_unused_columns False 
  --do_train  
  --do_eval 
  --learning_rate 2e-5 
  --num_train_epochs 2 
  --per_device_train_batch_size 8 
  --per_device_eval_batch_size 8 
  --logging_strategy steps 
  --logging_steps 20 
  --evaluation_strategy steps
  --eval_steps 20
  --save_total_limit 3 
  --seed 1337
max_restarts: 0
